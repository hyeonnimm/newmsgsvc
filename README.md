
# 서비스 시나리오

기능적 요구사항
1. 고객이 메시지 예약 발송을 등록한다.
1. 예약이 되면 예약 내역이 시스템에 저장된다.
1. 예약시간이 되면 착신자 리스트의 순서대로 메시지 발송이 처리된다.
1. 메시지 발송에 성공하면 해당 건에 대한 과금을 집계한다.
1. 메시지 발송에 실패하면 해당 건에 대한 과금을 집계하지 않는다.
1. 발송 결과를 수신(성공/실패)하면 해당 건에 대한 통계를 집계한다.
1. 발송 및 결과를 수신(성공/실패)하면 해당 예약에 대한 상태를 업데이트한다.
1. 고객이 처리상태를 중간중간 조회한다
1. 메시지 길이가 10을 넘으면 메시지를 처리하지 않는다. compensation 시험을 위한 요구사항

비기능적 요구사항
1. 트랜잭션
    1. 매 건에 대한 과금과 통계는 반드시 집계되어야 한다
1. 성능
    1. 고객이 실시간으로 예약 건에 대한 상태를 Dashboard(프론트엔드)에서 확인할 수 있어야 한다  CQRS

# 분석/설계


1) 분산트랜잭션 - Saga



   
2) 보상처리 - compensation






3) 단일 진입점 - gateway





  
4) 분산 데이터 프로젝션 - CQRS




























